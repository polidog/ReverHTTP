import fetch = github.com/reverhttp/std-fetch@0.1.0

GET /users/{id}
  |> input(id: path.id)
  |> validate(id: int & min(1))          ~> 400 { error: "invalid id" }
  |> transform(id: int(id))
  |> fetch(User, id) as user             ~> 404 { error: "user not found" }
  |> respond 200 { id: user.id, name: user.name, email: user.email }
